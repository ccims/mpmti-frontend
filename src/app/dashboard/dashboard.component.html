<div class="dashboard-container">
    <mat-toolbar color="primary" class="dashboard-toolbar">
        <button mat-icon-button (click)="sidenav.toggle()">
            <mat-icon>menu</mat-icon>
        </button>
        <h1 class="app-name">MPIMLAN</h1>
        <span class="spacer"></span>
        <a [routerLink]="['/dashboard']">
            <button mat-icon-button>
                <mat-icon class="toolbar-button">dashboard</mat-icon>
            </button>
        </a>
        <a [routerLink]="['/account']">
            <button mat-icon-button>
                <mat-icon class="toolbar-button">account_circle</mat-icon>
            </button>
        </a>
        <a [routerLink]="['/settings']">
            <button mat-icon-button>
                <mat-icon class="toolbar-button">settings_applications</mat-icon>
            </button>
        </a>
        <a [routerLink]="['/']">
            <button mat-icon-button (click)="this.logout()">
                <mat-icon class="toolbar-button">arrow_forward</mat-icon>
            </button>
        </a>
    </mat-toolbar>
    <mat-sidenav-container class="dashboard-sidenav-container">
        <mat-sidenav #sidenav [mode]="'side'">
            <div style="min-height: 40px;">
                <b class="sidenav-title-text">Your projects</b>
                <button mat-icon-button class="sidenav-button" matTooltip="Add new Project"
                    (click)="this.onCreateProjectDialog()">
                    <mat-icon>add_circle</mat-icon>
                </button>
            </div>
            <mat-accordion multi="true">
                <mat-expansion-panel *ngFor="let project of this.getProjects();">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            {{project.generalInformation.displayName}}
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <mat-nav-list>
                        <a mat-list-item
                            (click)="this.setCurrentProjectAndOpenSidenavContentComponent(project.generalInformation.projectName, 'Overview')">{{'Overview'}}</a>
                        <a mat-list-item
                            (click)="this.setCurrentProjectAndOpenSidenavContentComponent(project.generalInformation.projectName, 'Issues')">{{'Issues'}}</a>
                    </mat-nav-list>
                </mat-expansion-panel>
                <div *ngIf="this.getProjects() == null || this.getProjects()?.length === 0">
                    No projects created yet.
                </div>
            </mat-accordion>
        </mat-sidenav>

        <mat-sidenav-content [ngSwitch]="this.getOpenSidenavContent()">
            <app-project-overview *ngSwitchCase="'Overview'" [project]="this.getCurrentProject()">
            </app-project-overview>
            <app-project-issues *ngSwitchCase="'Issues'" [project]="this.getCurrentProject()"></app-project-issues>
            <b *ngSwitchCase="'DashboardOverview'">Select a project in Sidenav! This is a temporary view and should be
                exchanged to a nice component.</b>
        </mat-sidenav-content>
    </mat-sidenav-container>
</div>